import{a5 as Y,a6 as ee,a7 as M,q as Z,z as te,B as G,A as b,D as q,h as oe,a8 as se,o as C,c as V,w as y,u as a,I as h,J as R,x as U,L as ne,M as N,N as A,d as u,g as $,a9 as ae,P as le,Q as D,R as O,K as re,b as p,S as ie,m as ue,aa as ce,ab as de,E as B,U as pe,W as z,a1 as j,V as fe,X as K,ac as me,_ as ve,C as W,a as E,ad as ge,ae as ye,a2 as Ce,a3 as S,v as he,s as _e,p as we,f as be}from"./index-nrIvu4tl.js";import{E as Ee,a as Se}from"./el-form-item-yRykdAuK.js";/* empty css                   */const J=["success","info","warning","error"],ke=Y({customClass:{type:String,default:""},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:4500},icon:{type:ee},id:{type:String,default:""},message:{type:M([String,Object]),default:""},offset:{type:Number,default:0},onClick:{type:M(Function),default:()=>{}},onClose:{type:M(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...J,""],default:""},zIndex:Number}),Te={destroy:()=>!0},Ve=["id"],Ie=["textContent"],xe={key:0},Me=["innerHTML"],Ne=Z({name:"ElNotification"}),Be=Z({...Ne,props:ke,emits:Te,setup(o,{expose:r}){const e=o,{ns:n,zIndex:d}=te("notification"),{nextZIndex:m,currentZIndex:v}=d,{Close:i}=ce,t=G(!1);let l;const c=b(()=>{const s=e.type;return s&&q[e.type]?n.m(s):""}),f=b(()=>e.type&&q[e.type]||e.icon),w=b(()=>e.position.endsWith("right")?"right":"left"),g=b(()=>e.position.startsWith("top")?"top":"bottom"),Q=b(()=>{var s;return{[g.value]:`${e.offset}px`,zIndex:(s=e.zIndex)!=null?s:v.value}});function x(){e.duration>0&&({stop:l}=de(()=>{t.value&&k()},e.duration))}function P(){l==null||l()}function k(){t.value=!1}function X({code:s}){s===B.delete||s===B.backspace?P():s===B.esc?t.value&&k():x()}return oe(()=>{x(),m(),t.value=!0}),se(document,"keydown",X),r({visible:t,close:k}),(s,T)=>(C(),V(ie,{name:a(n).b("fade"),onBeforeLeave:s.onClose,onAfterLeave:T[1]||(T[1]=F=>s.$emit("destroy")),persisted:""},{default:y(()=>[O(u("div",{id:s.id,class:h([a(n).b(),s.customClass,a(w)]),style:R(a(Q)),role:"alert",onMouseenter:P,onMouseleave:x,onClick:T[0]||(T[0]=(...F)=>s.onClick&&s.onClick(...F))},[a(f)?(C(),V(a(U),{key:0,class:h([a(n).e("icon"),a(c)])},{default:y(()=>[(C(),V(ne(a(f))))]),_:1},8,["class"])):N("v-if",!0),u("div",{class:h(a(n).e("group"))},[u("h2",{class:h(a(n).e("title")),textContent:A(s.title)},null,10,Ie),O(u("div",{class:h(a(n).e("content")),style:R(s.title?void 0:{margin:0})},[le(s.$slots,"default",{},()=>[s.dangerouslyUseHTMLString?(C(),$(ae,{key:1},[N(" Caution here, message could've been compromised, never use user's input as message "),u("p",{innerHTML:s.message},null,8,Me)],2112)):(C(),$("p",xe,A(s.message),1))])],6),[[D,s.message]]),s.showClose?(C(),V(a(U),{key:0,class:h(a(n).e("closeBtn")),onClick:re(k,["stop"])},{default:y(()=>[p(a(i))]),_:1},8,["class","onClick"])):N("v-if",!0)],2)],46,Ve),[[D,t.value]])]),_:3},8,["name","onBeforeLeave"]))}});var $e=ue(Be,[["__file","/home/runner/work/element-plus/element-plus/packages/components/notification/src/notification.vue"]]);const I={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},H=16;let ze=1;const _=function(o={},r=null){if(!pe)return{close:()=>{}};(typeof o=="string"||z(o))&&(o={message:o});const e=o.position||"top-right";let n=o.offset||0;I[e].forEach(({vm:c})=>{var f;n+=(((f=c.el)==null?void 0:f.offsetHeight)||0)+H}),n+=H;const d=`notification_${ze++}`,m=o.onClose,v={...o,offset:n,id:d,onClose:()=>{He(d,e,m)}};let i=document.body;j(o.appendTo)?i=o.appendTo:fe(o.appendTo)&&(i=document.querySelector(o.appendTo)),j(i)||(i=document.body);const t=document.createElement("div"),l=p($e,v,z(v.message)?{default:()=>v.message}:null);return l.appContext=r??_._context,l.props.onDestroy=()=>{K(null,t)},K(l,t),I[e].push({vm:l}),i.appendChild(t.firstElementChild),{close:()=>{l.component.exposed.visible.value=!1}}};J.forEach(o=>{_[o]=(r={})=>((typeof r=="string"||z(r))&&(r={message:r}),_({...r,type:o}))});function He(o,r,e){const n=I[r],d=n.findIndex(({vm:l})=>{var c;return((c=l.component)==null?void 0:c.props.id)===o});if(d===-1)return;const{vm:m}=n[d];if(!m)return;e==null||e(m);const v=m.el.offsetHeight,i=r.split("-")[0];n.splice(d,1);const t=n.length;if(!(t<1))for(let l=d;l<t;l++){const{el:c,component:f}=n[l].vm,w=Number.parseInt(c.style[i],10)-v-H;f.props.offset=w}}function Le(){for(const o of Object.values(I))o.forEach(({vm:r})=>{r.component.exposed.visible.value=!1})}_.closeAll=Le;_._context=null;const Pe=me(_,"$notify"),L=o=>(we("data-v-414953a4"),o=o(),be(),o),Fe={class:"register"},qe=L(()=>u("svg",{class:"icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024","data-v-ea893728":""},[u("path",{fill:"currentColor",d:"M512 512a192 192 0 1 0 0-384 192 192 0 0 0 0 384m0 64a256 256 0 1 1 0-512 256 256 0 0 1 0 512m320 320v-96a96 96 0 0 0-96-96H288a96 96 0 0 0-96 96v96a32 32 0 1 1-64 0v-96a160 160 0 0 1 160-160h448a160 160 0 0 1 160 160v96a32 32 0 1 1-64 0"})],-1)),Re=L(()=>u("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024","data-v-ea893728":"",class:"icon"},[u("path",{fill:"currentColor",d:"M224 448a32 32 0 0 0-32 32v384a32 32 0 0 0 32 32h576a32 32 0 0 0 32-32V480a32 32 0 0 0-32-32zm0-64h576a96 96 0 0 1 96 96v384a96 96 0 0 1-96 96H224a96 96 0 0 1-96-96V480a96 96 0 0 1 96-96"}),u("path",{fill:"currentColor",d:"M512 544a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V576a32 32 0 0 1 32-32m192-160v-64a192 192 0 1 0-384 0v64zM512 64a256 256 0 0 1 256 256v128H256V320A256 256 0 0 1 512 64"})],-1)),Ue=L(()=>u("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024","data-v-ea893728":"",class:"icon"},[u("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),u("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})],-1)),Ae={__name:"RegisterPage",setup(o){const r=G(null);let e=W({username:"",password:"",verifyCode:""}),n="";const d=()=>{n=ge(6),Pe({title:"验证码",message:ye("b",{style:"color: teal"},n)})},m=W({username:[{required:!0,message:"账号输入不能为空！",trigger:"blur"}],password:[{required:!0,message:"密码输入不能为空！",trigger:"blur"}],verifyCode:[{required:!0,message:"输入不能为空",trigger:"blur"}]}),v=()=>{r.value.validate().then(i=>{n===e.verifyCode?Ce.post("/log/register",e,{headers:{"Content-Type":"application/json;charset=UTF-8"}}).then(({data:t})=>{t.isRepeated?S({type:"error",message:"此账号已经被使用！！"}):S({type:"success",message:"账号注册成功！！"})}).catch(()=>{S({type:"error",message:"网络错误！！"})}):S({type:"error",message:"请输入正确的验证码！！"})}).catch(i=>{const t=i[Object.keys(i)[0]][0].message;S({type:"error",message:t})})};return(i,t)=>{const l=he,c=Se,f=_e,w=Ee;return C(),$("div",Fe,[p(w,{"status-icon":"",ref_key:"formRef",ref:r,rules:m,model:a(e)},{default:y(()=>[p(c,{prop:"username",class:"form-item"},{default:y(()=>[qe,E("： "),p(l,{class:"info-input",type:"text",modelValue:a(e).username,"onUpdate:modelValue":t[0]||(t[0]=g=>a(e).username=g),placeholder:"请输入账号"},null,8,["modelValue"])]),_:1}),p(c,{prop:"password",class:"form-item"},{default:y(()=>[Re,E("： "),p(l,{class:"info-input",type:"password",modelValue:a(e).password,"onUpdate:modelValue":t[1]||(t[1]=g=>a(e).password=g),placeholder:"请输入密码"},null,8,["modelValue"])]),_:1}),p(c,{prop:"verifyCode",class:"form-item"},{default:y(()=>[Ue,E("： "),p(l,{class:"code-input",type:"text",modelValue:a(e).verifyCode,"onUpdate:modelValue":t[2]||(t[2]=g=>a(e).verifyCode=g),placeholder:"请输入验证码"},null,8,["modelValue"]),p(f,{type:"primary",onClick:t[3]||(t[3]=g=>d())},{default:y(()=>[E("发送验证码")]),_:1})]),_:1}),p(f,{class:"submit-btn",type:"primary",onClick:t[4]||(t[4]=g=>v())},{default:y(()=>[E("注册")]),_:1})]),_:1},8,["rules","model"])])}}},Ke=ve(Ae,[["__scopeId","data-v-414953a4"]]);export{Ke as default};
