import{_ as I,aV as P,C as f,G as U,o as n,g as p,d as a,b as c,w as b,u as l,aZ as w,a_ as B,b1 as C,v as N,b2 as T,a9 as V,aX as h,c as g,p as k,f as O,b0 as j}from"./index-nrIvu4tl.js";import{u as q}from"./dataobj-gzktrDxi.js";/* empty css                   */const d=u=>(k("data-v-e2f1f9a7"),u=u(),O(),u),D={class:"update-page"},R=d(()=>a("div",{class:"title"},[a("h1",null,"数据更新")],-1)),y={class:"update-form"},z={class:"select-table-item"},A=d(()=>a("div",{class:"text"}," UPDATE ",-1)),F={class:"set-value-item"},G=d(()=>a("div",{class:"text"}," SET ",-1)),L=d(()=>a("div",{class:"text"},"=",-1)),M={__name:"UpdatePage",setup(u){const r=q(),{getTableColumns:x}=r;let{tableNames:_}=P(r);const t=f({name:"",columns:[]});U(()=>t.name,m=>{_.value.includes(m)&&(t.columns=x(m))});let o=f({column:"",value:""});return(m,s)=>{const i=j,v=C,S=N,E=T;return n(),p("div",D,[R,a("div",y,[a("section",z,[A,c(v,{class:"select-table",modelValue:t.name,"onUpdate:modelValue":s[0]||(s[0]=e=>t.name=e),placeholder:"选择表"},{default:b(()=>[(n(!0),p(V,null,h(l(_),e=>(n(),g(i,{label:e,value:e},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),a("section",F,[G,c(v,{class:"select-column",modelValue:l(o).column,"onUpdate:modelValue":s[1]||(s[1]=e=>l(o).column=e)},{default:b(()=>[(n(!0),p(V,null,h(t.columns,e=>(n(),g(i,{label:e,value:e},null,8,["label","value"]))),256))]),_:1},8,["modelValue"]),L,c(S,{class:"set-value",modelValue:l(o).value,"onUpdate:modelValue":s[2]||(s[2]=e=>l(o).value=e),modelModifiers:{number:!0}},null,8,["modelValue"])]),c(E,w(B({tableName:t.name,tableColumns:t.columns,paramName:"update",messages:{success:"数据更新成功！",fail:"数据更新失败，请检查是否满足完整性约束！"},requestPath:"manipulate/update",param:l(o)})),null,16)])])}}},J=I(M,[["__scopeId","data-v-e2f1f9a7"]]);export{J as default};
