import{aY as v,aM as h,aH as p,bj as C,U as k,bk as i,G as w,bl as M,bm as g,bn as x,bo as S,bp as E,bq as d,a5 as O,a7 as m,q as P,b as T,P as y,ae as z}from"./index-nrIvu4tl.js";import{P as r}from"./vnode-evDYBfMY.js";const j=(e,s={})=>{v(e)||h("[useLockscreen]","You need to pass a ref param to this function");const t=s.ns||p("popup"),a=C(()=>t.bm("parent","hidden"));if(!k||i(document.body,a.value))return;let l=0,n=!1,o="0";const u=()=>{setTimeout(()=>{E(document==null?void 0:document.body,a.value),n&&document&&(document.body.style.width=o)},200)};w(e,c=>{if(!c){u();return}n=!i(document.body,a.value),n&&(o=document.body.style.width),l=M(t.namespace.value);const f=document.documentElement.clientHeight<document.body.scrollHeight,b=g(document.body,"overflowY");l>0&&(f||b==="scroll")&&n&&(document.body.style.width=`calc(100% - ${l}px)`),x(document.body,a.value)}),S(()=>u())},B=e=>{if(!e)return{onClick:d,onMousedown:d,onMouseup:d};let s=!1,t=!1;return{onClick:o=>{s&&t&&e(o),s=t=!1},onMousedown:o=>{s=o.target===o.currentTarget},onMouseup:o=>{t=o.target===o.currentTarget}}},H=O({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:m([String,Array,Object])},zIndex:{type:m([String,Number])}}),I={click:e=>e instanceof MouseEvent},L="overlay";var Y=P({name:"ElOverlay",props:H,emits:I,setup(e,{slots:s,emit:t}){const a=p(L),l=c=>{t("click",c)},{onClick:n,onMousedown:o,onMouseup:u}=B(e.customMaskEvent?void 0:l);return()=>e.mask?T("div",{class:[a.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:n,onMousedown:o,onMouseup:u},[y(s,"default")],r.STYLE|r.CLASS|r.PROPS,["onClick","onMouseup","onMousedown"]):z("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[y(s,"default")])}});const q=Y;export{q as E,B as a,j as u};
